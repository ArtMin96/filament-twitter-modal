(()=>{document.addEventListener("alpine:init",()=>{Alpine.data("filamentTwitterModal",()=>({loading:!1,show:!1,showActiveComponent:!1,showSidebar:!0,showSidebarMobile:!1,activeImage:1,init(){this.setSidebar(),this.$watch("show",e=>{e?document.body.classList.add("overflow-y-hidden"):(document.body.classList.remove("overflow-y-hidden"),setTimeout(()=>{this.showActiveComponent=!1,this.images=[],this.activeImage=1,this.$wire.resetState()},300))}),Livewire.on("close-twitter-modal",()=>{this.show=!1}),Livewire.on("active-twitter-modal-component-changed",()=>{this.showModalComponent()})},getComponentModalAttribute(e){return this.$wire.get("component").modalAttributes[e]},closeModalViaEscape(){this.show=!1},showModalComponent(){this.show=!0,this.showActiveComponent===!1?(this.dispatch(),this.showActiveComponent=!0):(this.showActiveComponent=!1,setTimeout(()=>{this.dispatch(),this.showActiveComponent=!0},300))},dispatch(){if(this.$wire.get("component")&&this.getComponentModalAttribute("hasLoading")===!0){let e=Object.keys(this.$wire.__instance.serverMemo.children)[0];this.loading=!0,this.showSidebar=!1,Livewire.find(this.$wire.__instance.serverMemo.children[e].id).call("dispatch").then(()=>{this.setSidebar(),this.loading=!1})}else this.loading=!1},toggleSidebar(){this.showSidebar=!this.showSidebar,localStorage.setItem("twitter-modal",this.showSidebar)},setSidebar(){localStorage.getItem("twitter-modal")!==null&&(this.showSidebar=localStorage.getItem("twitter-modal")==="true")},responsive(){window.innerWidth<768?(this.showSidebarMobile=!0,this.showSidebar=!1):this.showSidebarMobile=!1}}))});})();
